import requests


def be_to_le(inp):
    ba = bytearray.fromhex(inp)
    ba.reverse()
    return ba.hex()




def gen_proof_test(tx, merkle_root, testnet=False):
    if testnet:
        blockstream_res = requests.get(
            f"https://blockstream.info/testnet/api/tx/{tx}/merkle-proof"
        ).json()
    else:
        blockstream_res = requests.get(
            f"https://blockstream.info/api/tx/{tx}/merkle-proof"
        ).json()

    merkle_hashes = blockstream_res["merkle"]
    le_mk = [be_to_le(hash) for hash in merkle_hashes]
    proof = "".join(le_mk)

    print(be_to_le(tx))
    print(be_to_le(merkle_root))
    print(proof)


"""
each block hash is a comment above
    - using the first transaction and the merkle root of the given block
    - get the tx, root, and proof in le
prints
    1. tx
    2. merkle
    3. proof
    4. index
"""

# 00000000000000000001ac358a5f02db047627db4fb8e8fc39de280a6eeab6d8
# print("block 1")
# gen_proof_test(
    # "99a2c30fa86f3230f490acee5c9f3f7858c40ed791df49a1f6aa9cdc37adf1d3",
    # "f4dff062a2b298dbc5be9dac5a8f3f4b787a97ef1e9671953c93c6a8d8d334c2",
# )
# 000000000000000000019b664a54f77632ab0c2d033587336879771f4262d1d2
# print("block 2")
# gen_proof_test(
    # "eec06534b66b818d602626d72e1f1a2ae3deb47ca6dd566ff4d9dd0b15dc6d8b",
    # "210e9d5fd9300e0e0b9bfc2979ee0489f9d5ceba401bfe7dcfc2982afa7b0ec2",
# )
# 00000000000000000000d0f43abc93a2b94165b2b807e8df9606e897f424ed43
# print("block 3")
# gen_proof_test(
    # "5a11987703ff521fe3615e6ab5414f4e0e77dd5a68a51625008dc47e2f0fa0d8",
    # "43488abf07cf56ab6f2372f9efac8e35c32cec84e05a9b9da6c32118e76fda56",
# )
# 0000000000000000000013e54d657504fb9a5640ec5c04d388313f0b6b15614c
# print("block 4")
# gen_proof_test(
    # "33d3400313fdd481c4ff876c0af87dcbf4f1ba9e1b8ee3789fbe8feb4fbfc7ce",
    # "9f36aa40f8570c4b8b253106440011497481f8866023f5f04c940872f0ab711c",
# )
# 00000000000000000000b18d8b9e899ec37c07838fcd05bb102e8c64a13a7033
# print("block 5")
# gen_proof_test(
    # "fcff18df5a8bb7ee392739ed04e4a981784bb705c65de1befb9b0f653c0723be",
    # "0732c2a67af5389ccf068cde8d512ab1451131392e9f66ee272e040c684b11bf",
# )
# 00000000000000000002639cc859cf01486b6eb732f72204993e56cff78ce7b5
# print("block 6")
# gen_proof_test(
    # "9a4519181402ca7fd87b60ae2ebb39c66c7e92f82d3844be33236b44bafd3824",
    # "eeea716c70176d07c055b6d6f0688227cd5e94392ea4263a6bbcbee6483e961f",
# )
# 00000000000000000000a174eebf5b9df9b9ebf062cc3c503a2024e7d9a618b6
# print("block 7")
# gen_proof_test(
    # "c8ed774fe305a71c747aa9b89406d4fbedc9d3e245cb4f680e402a8ed693e71d",
    # "93905a76e8caa39abd9d486d9f5037fbcfcfd16f9dd3168519953d411d5c77ea",
# )
# 0000000000000000000129131b65d9a3c6b7af1f47f83074ea879c4c531787ce
# print("block 8")
# gen_proof_test(
    # "06700d22845c5e0445c6bafc998cf7509a6a885d56278698cbcd52bc873af17c",
    # "2ed2c5dcdc8e136f50686992cae82fba6ec4d7f1d3680ca4217a2d60711f8f6b",
# )
# 0000000000000000000079495db7e2b7c3bddd1beb9b2e4e70b16991c24863f3
print("block 9")
gen_proof_test(
    "06700d22845c5e0445c6bafc998cf7509a6a885d56278698cbcd52bc873af17c",
    "2ed2c5dcdc8e136f50686992cae82fba6ec4d7f1d3680ca4217a2d60711f8f6b",
)


"""
block 1
d3f1ad37dc9caaf6a149df91d70ec458783f9f5ceeac90f430326fa80fc3a299
c234d3d8a8c6933c9571961eef977a784b3f8f5aac9dbec5db98b2a262f0dff4
151f13bf272b9ae364173a35a53538ee166270e842bd81a4bca27f5c62bf4731a5cf69954394d017f18f53035fb26c40d76c445c65bd184531802afa7f71234c845f3c3ff6e90f14ce6a54de9d45e716548bc58dc998b2f082dd81c637f99c16bf46e96479efe882d198a4780bf35ef47413429d163a05af7566ac2090a2c770ef3c60070428be2aca208ebca6e1a80b6e2895a7947891bb5f4c8c1ab0030b5c7e01b1d661f944a5d7facb19bdde83fa16c71541e8d0457340357822f0abd8408efe2d55d83f0edd6c6b21313de15c84b1cc7adf9abca8f2b5b735daf12fd0202bc36d8f1092b9c78dfcfc1cf1e9432d0c55fc8e173dd715062f6448376c4122bb9ec77a13df89aed7f23f303d0d77e16f0aed5c052748ab61605bf6f3690a0caa5c924c7ac3d47a294accfec8aafd616e55678b35b452f344bd97467fe92a58346cdef7eed879060d1652991ee8d46d0694d1d3b0813094d1a90996f7bafce1baa8b4a5978e5025a029eaf9da212966e7dc71023c047e05207904c53eecd942911f9ba08930492363dd02a5d3ae78215e51c75b8226b3274dbfdb390b480346
block 2
8b6ddc150bddd9f46f56dda67cb4dee32a1a1f2ed72626608d816bb63465c0ee
c20e7bfa2a98c2cf7dfe1b40baced5f98904ee7929fc9b0b0e0e30d95f9d0e21
cb13af42ac056f2bf0a83a800b72a5f067b403c773ab081710f411fca42d6117b5fdc127cf5da852419a0cc15d82c9c5de25ac88cddd086a95348de412493b5ad9c021d8591582820245e4527ec92c74a9dd14aa4d008523376c1dd0bbd2c570fef87a501c31a58b8a80ba974785f52d0edfbf4143e662d09a27c53eedea037e19ae4be3dbe5633247af1dcf479230df168e72d1e64deb8149f67831db37561e9bda180e5b5956a1713b99d077f2b2df093a9f330db151bb0562d72a34830e0c3f27e517417e5a4dec4b174b2e23c0b5fc102c3c760da9081801ee433b2106f0c26f5c48b9e691980d9c883330ce361d8621314fa5d8d7da7e7fe65aac8b95b244a9c3365bdaec9b04f013b4d17274bc123484efe78538416c06ae330cb655298ee295b87671712d0da06930436e65a7b25f078734df678bb3bd62aae2231786b53e89bc5788382c5a94929212de0188ebc50a110c7395f9e97a5a6eef82bab98d5f3387c138d9eb10f9ed3960958a9ea1db8a04bfd6ee0e5112e80a8f38f4f4c21d0ba74e07771bf45b9f7a9258b8a904351fe29eca20643149821f580dd79b
-- first two are used as initial chain tips --
block 3
d8a00f2f7ec48d002516a5685add770e4e4f41b56a5e61e31f52ff037798115a
56da6fe71821c3a69d9b5ae084ec2cc3358eaceff972236fab56cf07bf8a4843
76251b09c0f495a31496c307df5abc70657859a4aeb6cc07c955c70245df95391c225cb01453a9e38005d0f929de6341c8288a1de971b1080be1c330951223bbe98c8627a01a9596ec39a661d120c104596b9eac90b5592c884f54327d87aaacacb83ae1da9126fa2ffee73947e0b1ff38b9647c3240c11cf5439133b240281a224d23b35c1778d9f07ba6772f92e6222c19a82740fbf8477623130070a63f636a9a685a9597ef9f117210cddb56b8f292091476994f5731b8bd0620b7359fd5ffd9571ac2a6a54f78e2047edaad3800e4a410fb9ee22cf8f2ce7c6f7211d15f5f9f908274a883ca31efa9cc04994bad6fb021103491abc619964a1a13f4569ef7ca468e1d902e2210f9ba357dea05a2d4e47da709a646089d538a0f442f2408a206f3b0755631d4724bedb136cf897ef26481357e9781a4801f2bc4cfce4e0bc9afa069d4c25902fad95e45e0774d7ade7c613b588b747daba06ad0fe8e84e77ef1c646b03d80b4bc157f23b6bc10dcd076c0d12c1bad17072e047e5c8d9c64524d7dbb1f97eb209da882be6ca649ed01ff5fe4953f1906360b026577183cb7
block 4
cec7bf4feb8fbe9f78e38e1b9ebaf1f4cb7df80a6c87ffc481d4fd130340d333
1c71abf07208944cf0f5236086f88174491100440631258b4b0c57f840aa369f
975ce494bf811025a383d03b20f35e5887ef1c5f8c7651dd187ff93013938480aea4529abe4c6ac9846167d4ed151bb9385479a61f1e7fc3db3e7068e91e93397bbc726060857a84fb1cbf8e338594673e7a071073153f54651dc3c380eee9762faee26991ce83c841afe70ed65eb6a26bee2a07a41b9629b976c72318b5ead296300e1f72d7b8f4985c9ad7639a9f3696cef2a810f8b1aa1ddc2060d075b54365ba022b9523e2da289270a7d47944809eac23e91c976cab287ff45e6eec9ca3e4552efa855a984a09f4ca476c7b11aa75a3ee0e84f6a770d5abbe4d73dae744d88aca07848d24fcb22270ebd91bf2120074737cd58de6bc58cb9881bd090c756ab5d3904ab9577ae5c42aaccbae773e8d33e05364bf7f4be774484abf313642d6cc5b7fba9d71a4d5999e0d1862d9937c416ecf2f30630fae8d327ab8520e89cc6be5d6ae920abe03a907653575243292d8f052221d1a97d7af0ca4ec7061c08c37d2e3b1db8aebc723397e5c209476dd3282ed7a2bb1db78588c48034a2b3e
block 5
be23073c650f9bfbbee15dc605b74b7881a9e404ed392739eeb78b5adf18fffc
bf114b680c042e27ee669f2e39311145b12a518dde8c06cf9c38f57aa6c23207
0b8140177031e07f2e4920955b97c94041d2c2f8d94ed122720be9fd0c31cf6dabe2b446a0c0b829f3799380f45da0418ea84b68e1b1ac77ae79afe82fed4586613edaf22e424f5454643a8d847724d1d2d8bce5103d02785a36c520787d4bc337bbc0953073f1a3b968f1d2c0e6fc337202bc51b942e073d27755e544d0f863ddba205918f71a45021f5a6c17db368ddcc35c169bde5a63b3dfc762bc2b45315613ea381620c39c814ebf4ea32c6496042deb61ff1ae8f866df1a2a6a0200123bbf075d3e04fcc32312b00935e3998a2ad2509560ea1c221bdaab9327ef9a4725eb79f06405282dd9c45d2a4625b866d1d07d89c711642bbe9cb289702015ca8767b93cfb9167b104768d8e0664a277c98d806e32f59315eefbcc3ab374648be65afb941db3a558a3d5c0d8fab0dc5834c9c3f5825e1484d7f0dbd0219124edb002807ab225ca18ca1d01a74c6a958dea09dc8fd1ee48750a507eaf4c0e54bb6651318984c7c796912c33fa875143bf2cdd27964e4e0cebbbdd12b4b3482145d7581b1a7eb389d76936ff2d01b3be4b0e5a8eb0e9e7cbc36e3d92d06c1f4a50
block 6
2438fdba446b2333be44382df8927e6cc639bb2eae607bd87fca02141819459a
1f963e48e6bebc6b3a26a42e39945ecd278268f0d6b655c0076d17706c71eaee
48f1a63706c32f1ea889ce97f130d27cb9ea85e71e974f7ede0dc36a2962bfc4955d20e8fe83f223eeb697c06377aed2d5de83eef8710be89497477ed731af5511284f5f75eb51c627c4ab647063135eb6a6326e4ce1503f65ef1203b0b26b68e8f6f34ab52bea497002afc2e149f06c963793b70fd95b43de2653c8f6b44f0754494b6c2f7ba03ce52c2abc5a741764fc554bcbd860d2a7e19ee5f58b486f797835fb5a21e562dbf1299b9dd59ba89713489369c0b5eeae52d6c629365fc78727d8c81917ef75726ccee99bf38782ac4b179617b5b0ed783157d219f2ed473c7e77107979a6fa0727c5fbac6bfcfc0c0974389b1ecc3c8a9554f4b15d1826b5cb1c1cc34a805e45e9f8324de4813a9bf72dfb3f2d9807237dda15cde78f891a7eb344dcbad46665c800463a5d4c49ee6ab109e17ea0fab3415aaca43214e5139d714768c15e6010b2e00536aa5de9111ba9d3cf156d6427d5f733302af396581592fd10879716e45150c4dd9ba0e7bfc35b634306b3bf9763a16dd09a78bd6b1945dfbb6e2348f6ea0881d905f53635a5693ea435662ca333e6ccabc44b4878
block 7
1de793d68e2a400e684fcb45e2d3c9edfbd40694b8a97a741ca705e34f77edc8
ea775c1d413d95198516d39d6fd1cfcffb37509f6d489dbd9aa3cae8765a9093
1ab4580980216c40d1f68541a44f70442d702ea01620a1b89d1c2b1cc006715f1999e7f179f824a7d5045a4663bdd322f85d3294f113090950b6150e7ae4cfbab9c671d24f84d8d00526f49aeaa6523b79918166fa1f3415565bf6bf8bfe79045c84ab7f328238caf4333c050bb02c1359702a480522e8780794bae305185e79f0397b57587b1f1268f4900e3f90d8485950413bc7979bdcf949bb46d0c5fa5bd973682f1c10c272517fa0c5b66d6ff2bbd8a1114765cdda2b4f4ee86945e9e9db84a20cbcafb76360f71365db0d357467972d23b1a264e7f339daa0d8353fb89473a980ed900260fe8e9bf1ffdc6719f0c7bbd54378bf4ffe30c1903cacdaa078b9a5eb36b45e26c89325c1f4816cce691e021b713aa28d5fb5090da48981e47a80314634917d8734638ccc80f4be850733331d7a911551e01270732dbf8c9a36321f64e9677dfc486cb6a38e640aa63e1c5e0f222728100b0a801e6bf43949acc145653bef6421ec5b87d8056a5b90fc8c3d9002aae6e046488b9e2c5c4cadfb16fff0459998024f324b3be890019f5403c9a816b71614e1d62d6fa4455f51
block 8
7cf13a87bc52cdcb988627565d886a9a50f78c99fcbac645045e5c84220d7006
6b8f1f71602d7a21a40c68d3f1d7c46eba2fe8ca926968506f138edcdcc5d22e
a32de63bbc1fafc6219935c41239795b7e2df0a4eb6dcf8debb2639a3323dc93330f051dfa2d646e992a847f0a67751399cb01c209ee4e165ca399dee060f9473a8ae680899b57abbf1513aec2fcde4b91d8a5bb519c1c81e4e026632a6cd6cf0b14e8c8f052a88d60e9ecaa9c4e0db318bb95dd17c8d6ae19d75f2211b9b2fd3ecd82392c27b025c20fc517e3af1f1ad092efabffb94c8af9ebcbc973c7bf621793f4154bb901b3257f49c8f9176c72c753c7323dbfccd75c45c54bab4c2aa7a6c1e4204e8b3399d3a7bc2a32fe8501c60ac4f7550b971cb1b36acafc28fa9af90c2ed8cc1dd61f148b841e97ff8383e59fa2ac921b48315e8dee1bca6cc2f31589bcacde9aefd085037b2ee448597cb80e91bbdae681032da6fff4215b465f39a49b77dd5a4c02c639d749c8294e763d21dd20b11c7480d5cc82d47b67f3dd739eb1230377c808e07a00bab3a233ba90faa10e7f1b1f515fc8ee019b952f96b75edcd51437ebea33562c2f35f963624616249cebeb8994264ad6ba89c53876119d34f926548fbaacc1ea41488a5a78ed99d560eb42380d02c8c876f2493f6c
block 9
7cf13a87bc52cdcb988627565d886a9a50f78c99fcbac645045e5c84220d7006
6b8f1f71602d7a21a40c68d3f1d7c46eba2fe8ca926968506f138edcdcc5d22e
a32de63bbc1fafc6219935c41239795b7e2df0a4eb6dcf8debb2639a3323dc93330f051dfa2d64
6e992a847f0a67751399cb01c209ee4e165ca399dee060f9473a8ae680899b57abbf1513aec2fc
de4b91d8a5bb519c1c81e4e026632a6cd6cf0b14e8c8f052a88d60e9ecaa9c4e0db318bb95dd17
c8d6ae19d75f2211b9b2fd3ecd82392c27b025c20fc517e3af1f1ad092efabffb94c8af9ebcbc9
73c7bf621793f4154bb901b3257f49c8f9176c72c753c7323dbfccd75c45c54bab4c2aa7a6c1e4
204e8b3399d3a7bc2a32fe8501c60ac4f7550b971cb1b36acafc28fa9af90c2ed8cc1dd61f148b
841e97ff8383e59fa2ac921b48315e8dee1bca6cc2f31589bcacde9aefd085037b2ee448597cb8
0e91bbdae681032da6fff4215b465f39a49b77dd5a4c02c639d749c8294e763d21dd20b11c7480
d5cc82d47b67f3dd739eb1230377c808e07a00bab3a233ba90faa10e7f1b1f515fc8ee019b952f
96b75edcd51437ebea33562c2f35f963624616249cebeb8994264ad6ba89c53876119d34f92654
8fbaacc1ea41488a5a78ed99d560eb42380d02c8c876f2493f6c
"""
